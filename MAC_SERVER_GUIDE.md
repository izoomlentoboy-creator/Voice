# EchoFlow 2.0 - ÐŸÐ¾Ð»Ð½Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ Ð´Ð»Ñ Mac

**Ð”Ð°Ñ‚Ð°:** 14 Ñ„ÐµÐ²Ñ€Ð°Ð»Ñ 2026  
**Ð’ÐµÑ€ÑÐ¸Ñ:** 2.0 (Optimized)  
**ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð°:** macOS (Apple Silicon M1/M2/M3 Ð¸Ð»Ð¸ Intel)

---

## ðŸ“‹ Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ

1. [ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Mac](#Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ°-mac)
2. [Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°](#ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°)
3. [ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸](#Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ-Ð¼Ð¾Ð´ÐµÐ»Ð¸)
4. [Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð½Ð¾Ð¹ Ð¼Ð¾Ð´ÐµÐ»Ð¸](#Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ-Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð½Ð¾Ð¹-Ð¼Ð¾Ð´ÐµÐ»Ð¸)
5. [Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ](#Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ-Ð½Ð°-ÑÐµÑ€Ð²ÐµÑ€Ðµ)
6. [Troubleshooting](#troubleshooting)

---

## ðŸ–¥ï¸ ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Mac

### Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð½Ñ‹Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

**ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ:**
- macOS 12.0+ (Monterey Ð¸Ð»Ð¸ Ð½Ð¾Ð²ÐµÐµ)
- 16 Ð“Ð‘ RAM
- 50 Ð“Ð‘ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¼ÐµÑÑ‚Ð°
- Python 3.8+

**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ðµ:**
- macOS 13.0+ (Ventura Ð¸Ð»Ð¸ Ð½Ð¾Ð²ÐµÐµ)
- 32 Ð“Ð‘ RAM
- 100 Ð“Ð‘ ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ð³Ð¾ Ð¼ÐµÑÑ‚Ð°
- Apple Silicon (M1/M2/M3) Ð´Ð»Ñ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ñ

### Ð¨Ð°Ð³ 1: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Homebrew

```bash
# ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Terminal (âŒ˜ + Space, Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ "Terminal")
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### Ð¨Ð°Ð³ 2: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Python

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Python 3.11
brew install python@3.11

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð²ÐµÑ€ÑÐ¸ÑŽ
python3 --version  # Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ 3.11.x
```

### Ð¨Ð°Ð³ 3: Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Git

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Git
brew install git

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð²ÐµÑ€ÑÐ¸ÑŽ
git --version
```

---

## ðŸ“¥ Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

```bash
# 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
git clone https://github.com/izoomlentoboy-creator/Voice.git
cd Voice

# 2. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÑƒÑŽ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÑƒ
./train_ultimate.sh
```

**Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:**
- âœ… ÐŸÑ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ
- âœ… Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ Ð²ÑÐµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
- âœ… Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ Ð´Ð°Ñ‚Ð°ÑÐµÑ‚ (17.9 Ð“Ð‘)
- âœ… ÐÐ°Ñ‡Ð½Ñ‘Ñ‚ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Ð ÑƒÑ‡Ð½Ð°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

```bash
# 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
git clone https://github.com/izoomlentoboy-creator/Voice.git
cd Voice

# 2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
pip3 install -r requirements.txt

# 3. Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð´Ð°Ñ‚Ð°ÑÐµÑ‚ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ
# Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ Ñ https://zenodo.org/record/1188976
# Ð Ð°ÑÐ¿Ð°ÐºÑƒÐ¹Ñ‚Ðµ Ð² ./dataset/
```

---

## ðŸŽ“ ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸

### âš ï¸ Ð’Ð°Ð¶Ð½Ð¾: Ð’Ñ€ÐµÐ¼Ñ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð½Ð° Mac

**ÐÐ° Mac Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð±ÑƒÐ´ÐµÑ‚ ÐžÐ§Ð•ÐÐ¬ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ñ‹Ð¼:**

| ÐŸÑ€Ð¾Ñ†ÐµÑÑÐ¾Ñ€ | Ð’Ñ€ÐµÐ¼Ñ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ | Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ |
|-----------|----------------|--------------|
| **Apple M1/M2/M3** | ~150-200 Ñ‡Ð°ÑÐ¾Ð² | âš ï¸ ÐÐµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ |
| **Intel Mac** | ~250-300 Ñ‡Ð°ÑÐ¾Ð² | âŒ ÐšÑ€Ð°Ð¹Ð½Ðµ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾ |
| **GPU Cloud (T4)** | ~10-12 Ñ‡Ð°ÑÐ¾Ð² | âœ… **Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ** |

**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ñ:** Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¾Ð±Ð»Ð°Ñ‡Ð½Ñ‹Ðµ GPU Ð´Ð»Ñ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ (ÑÐ¼. Ñ€Ð°Ð·Ð´ÐµÐ» Ð½Ð¸Ð¶Ðµ)

### ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð½Ð° Mac (ÐµÑÐ»Ð¸ Ð²ÑÑ‘ Ð¶Ðµ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ)

#### ÐŸÐ¾Ð»Ð½Ð¾Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ (150-200 Ñ‡Ð°ÑÐ¾Ð²)

```bash
cd Voice
./train_ultimate.sh
```

**Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸Ð·Ð¾Ð¹Ð´Ñ‘Ñ‚:**
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¸ÑÑ‚ÐµÐ¼Ñ‹ (2 Ð¼Ð¸Ð½)
2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹ (5-10 Ð¼Ð¸Ð½)
3. Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð°Ñ‚Ð°ÑÐµÑ‚Ð° (10-30 Ð¼Ð¸Ð½, Ð·Ð°Ð²Ð¸ÑÐ¸Ñ‚ Ð¾Ñ‚ Ð¸Ð½Ñ‚ÐµÑ€Ð½ÐµÑ‚Ð°)
4. **ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸ (150-200 Ñ‡Ð°ÑÐ¾Ð²)** â±ï¸

**Ð¡Ð¾Ð²ÐµÑ‚Ñ‹:**
- ÐÐµ Ð·Ð°ÐºÑ€Ñ‹Ð²Ð°Ð¹Ñ‚Ðµ Terminal
- ÐÐµ Ð²Ñ‹ÐºÐ»ÑŽÑ‡Ð°Ð¹Ñ‚Ðµ Mac
- ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ðº Ð¿Ð¸Ñ‚Ð°Ð½Ð¸ÑŽ
- ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ñ€ÐµÐ¶Ð¸Ð¼ ÑÐ½Ð°: System Settings â†’ Energy Saver â†’ Prevent automatic sleeping

#### Ð¢ÐµÑÑ‚Ð¾Ð²Ð¾Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ (1-2 Ñ‡Ð°ÑÐ°)

Ð”Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸, Ñ‡Ñ‚Ð¾ Ð²ÑÑ‘ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:

```bash
cd Voice
python3 train.py \
    --data_dir ./dataset \
    --epochs 1 \
    --batch_size 4 \
    --lr 1e-4
```

**Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:** ÐœÐ¾Ð´ÐµÐ»ÑŒ Ð¾Ð±ÑƒÑ‡Ð¸Ñ‚ÑÑ Ð½Ð° 1 ÑÐ¿Ð¾Ñ…Ñƒ (Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð°)

---

## â˜ï¸ ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð² Ð¾Ð±Ð»Ð°ÐºÐµ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: Google Colab (Ð‘Ð•Ð¡ÐŸÐ›ÐÐ¢ÐÐž)

**ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð°:**
- âœ… Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾
- âœ… GPU T4 (Ð² 15-20 Ñ€Ð°Ð· Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ Mac)
- âœ… 10-12 Ñ‡Ð°ÑÐ¾Ð² Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ
- âœ… ÐÐµ Ð½Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ Ð²Ð°Ñˆ Mac

**Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ:**

1. **ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Colab notebook:**
   ```
   https://colab.research.google.com/github/izoomlentoboy-creator/Voice/blob/main/EchoFlow_V2_Colab.ipynb
   ```
   
   *(ÐŸÑ€Ð¸Ð¼ÐµÑ‡Ð°Ð½Ð¸Ðµ: Colab notebook Ð±Ñ‹Ð» ÑƒÐ´Ð°Ð»Ñ‘Ð½ Ð¸Ð· main Ð²ÐµÑ‚ÐºÐ¸, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¸Ð»Ð¸ ÑÐ¼. Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹)*

2. **Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ GPU:**
   - Runtime â†’ Change runtime type
   - Hardware accelerator â†’ GPU
   - GPU type â†’ T4
   - Save

3. **Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð²ÑÑ‘:**
   - Runtime â†’ Run all
   - Ð”Ð¾Ð¶Ð´Ð¸Ñ‚ÐµÑÑŒ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ (~10-12 Ñ‡Ð°ÑÐ¾Ð²)

4. **Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ Ð¼Ð¾Ð´ÐµÐ»ÑŒ:**
   - Ð¤Ð°Ð¹Ð» `best.pt` Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐºÐ°Ñ‡Ð°ÐµÑ‚ÑÑ

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Ð’Ð°Ñˆ ÑƒÐ´Ð°Ð»Ñ‘Ð½Ð½Ñ‹Ð¹ ÑÐµÑ€Ð²ÐµÑ€

Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ ÐµÑÑ‚ÑŒ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ Ñ GPU:

```bash
# 1. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
ssh your_username@your_server_ip

# 2. ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
git clone https://github.com/izoomlentoboy-creator/Voice.git
cd Voice

# 3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ
./train_ultimate.sh

# 4. ÐžÑ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ (Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑÑ)
# Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ screen Ð¸Ð»Ð¸ tmux Ð´Ð»Ñ Ñ„Ð¾Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ
screen -S echoflow
./train_ultimate.sh
# ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ Ctrl+A, Ð·Ð°Ñ‚ÐµÐ¼ D Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ
# Ð”Ð»Ñ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‚Ð°: screen -r echoflow
```

---

## ðŸ“Š Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð½Ð¾Ð¹ Ð¼Ð¾Ð´ÐµÐ»Ð¸

### ÐŸÐ¾ÑÐ»Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ

ÐœÐ¾Ð´ÐµÐ»ÑŒ ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð² `checkpoints/best.pt`

### Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð¾Ð´ÐµÐ»Ð¸

```python
import torch
import torchaudio
from models.echoflow_v2 import EchoFlowV2

# 1. Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð¼Ð¾Ð´ÐµÐ»ÑŒ
model = EchoFlowV2()
model.load_state_dict(torch.load('checkpoints/best.pt', map_location='cpu'))
model.eval()

# 2. Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð°ÑƒÐ´Ð¸Ð¾ Ñ„Ð°Ð¹Ð»
audio, sr = torchaudio.load('path/to/audio.wav')

# Ð ÐµÑÐµÐ¼Ð¿Ð»Ð¸Ð½Ð³ Ð´Ð¾ 16kHz ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾
if sr != 16000:
    resampler = torchaudio.transforms.Resample(sr, 16000)
    audio = resampler(audio)

# 3. ÐŸÑ€ÐµÐ´ÑÐºÐ°Ð·Ð°Ð½Ð¸Ðµ
with torch.no_grad():
    # ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸
    probs = model.predict_proba(audio)
    print(f"Ð—Ð´Ð¾Ñ€Ð¾Ð²Ñ‹Ð¹: {probs[0][0]:.2%}")
    print(f"ÐŸÐ°Ñ‚Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹: {probs[0][1]:.2%}")
    
    # ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÐºÐ»Ð°ÑÑ
    pred = model.predict(audio)
    result = "Ð—Ð´Ð¾Ñ€Ð¾Ð²Ñ‹Ð¹" if pred[0] == 0 else "ÐŸÐ°Ñ‚Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹"
    print(f"Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚: {result}")
```

### ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ

```bash
# Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ‚ÐµÑÑ‚Ð¾Ð²Ñ‹Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚
cat > test_model.py << 'EOF'
import torch
import torchaudio
from models.echoflow_v2 import EchoFlowV2

model = EchoFlowV2()
model.load_state_dict(torch.load('checkpoints/best.pt', map_location='cpu'))
model.eval()

audio, sr = torchaudio.load('test_audio.wav')
if sr != 16000:
    resampler = torchaudio.transforms.Resample(sr, 16000)
    audio = resampler(audio)

probs = model.predict_proba(audio)
print(f"Ð—Ð´Ð¾Ñ€Ð¾Ð²Ñ‹Ð¹: {probs[0][0]:.2%}")
print(f"ÐŸÐ°Ñ‚Ð¾Ð»Ð¾Ð³Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹: {probs[0][1]:.2%}")
EOF

# Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ
python3 test_model.py
```

---

## ðŸš€ Ð Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐµÑ€Ð²ÐµÑ€ Ð½Ð° Mac

```bash
# 1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ API ÑÐµÑ€Ð²ÐµÑ€
cat > api_server.py << 'EOF'
from flask import Flask, request, jsonify
import torch
import torchaudio
from models.echoflow_v2 import EchoFlowV2

app = Flask(__name__)

# Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð¼Ð¾Ð´ÐµÐ»ÑŒ
model = EchoFlowV2()
model.load_state_dict(torch.load('checkpoints/best.pt', map_location='cpu'))
model.eval()

@app.route('/predict', methods=['POST'])
def predict():
    if 'audio' not in request.files:
        return jsonify({'error': 'No audio file'}), 400
    
    audio_file = request.files['audio']
    audio_file.save('temp.wav')
    
    audio, sr = torchaudio.load('temp.wav')
    if sr != 16000:
        resampler = torchaudio.transforms.Resample(sr, 16000)
        audio = resampler(audio)
    
    with torch.no_grad():
        probs = model.predict_proba(audio)
    
    return jsonify({
        'healthy': float(probs[0][0]),
        'pathological': float(probs[0][1])
    })

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)
EOF

# 2. Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Flask
pip3 install flask

# 3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÑÐµÑ€Ð²ÐµÑ€
python3 api_server.py

# 4. Ð¢ÐµÑÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ
# Ð’ Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ:
curl -X POST -F "audio=@test_audio.wav" http://localhost:5000/predict
```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: Ð£Ð´Ð°Ð»Ñ‘Ð½Ð½Ñ‹Ð¹ ÑÐµÑ€Ð²ÐµÑ€

```bash
# 1. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
ssh your_username@your_server_ip

# 2. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€
# ÐÐ° Ð²Ð°ÑˆÐµÐ¼ Mac:
scp checkpoints/best.pt your_username@your_server_ip:~/Voice/checkpoints/

# 3. ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ API
cd Voice
python3 api_server.py

# 4. Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ñ Mac
curl -X POST -F "audio=@test_audio.wav" http://your_server_ip:5000/predict
```

---

## ðŸ”§ Troubleshooting

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: "ModuleNotFoundError"

```bash
# ÐŸÐµÑ€ÐµÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸
pip3 install --upgrade -r requirements.txt
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: "Out of memory" Ð½Ð° Mac

```bash
# Ð£Ð¼ÐµÐ½ÑŒÑˆÐ¸Ñ‚Ðµ batch size
python3 train.py --batch_size 2  # Ð²Ð¼ÐµÑÑ‚Ð¾ 16
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾Ðµ

**Ð ÐµÑˆÐµÐ½Ð¸Ðµ:** Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð¾Ð±Ð»Ð°Ñ‡Ð½Ñ‹Ðµ GPU (Google Colab, Kaggle, Ð¸ Ñ‚.Ð´.)

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: "No module named 'transformers'"

```bash
pip3 install transformers
```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: Ð”Ð°Ñ‚Ð°ÑÐµÑ‚ Ð½Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÑ‚ÑÑ

```bash
# Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ
# 1. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° https://zenodo.org/record/1188976
# 2. Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ Ð°Ñ€Ñ…Ð¸Ð²
# 3. Ð Ð°ÑÐ¿Ð°ÐºÑƒÐ¹Ñ‚Ðµ Ð² ./dataset/
```

---

## ðŸ“ž ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

**GitHub:** https://github.com/izoomlentoboy-creator/Voice  
**Issues:** https://github.com/izoomlentoboy-creator/Voice/issues

---

## ðŸŽ¯ Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸

### Ð”Ð»Ñ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ:
1. âœ… **Google Colab** - Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾, Ð±Ñ‹ÑÑ‚Ñ€Ð¾ (10-12 Ñ‡Ð°ÑÐ¾Ð²)
2. âœ… **ÐžÐ±Ð»Ð°Ñ‡Ð½Ñ‹Ð¹ GPU ÑÐµÑ€Ð²ÐµÑ€** - Ð¿Ð»Ð°Ñ‚Ð½Ð¾, Ð½Ð¾ Ð±Ñ‹ÑÑ‚Ñ€Ð¾
3. âš ï¸ **Mac** - Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾ (150-200 Ñ‡Ð°ÑÐ¾Ð²), Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

### Ð”Ð»Ñ inference (Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ):
1. âœ… **Mac** - Ð¾Ñ‚Ð»Ð¸Ñ‡Ð½Ð¾ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚, Ð±Ñ‹ÑÑ‚Ñ€Ð¾ (~1-2 ÑÐµÐºÑƒÐ½Ð´Ñ‹ Ð½Ð° Ð°ÑƒÐ´Ð¸Ð¾)
2. âœ… **Ð›ÑŽÐ±Ð¾Ð¹ ÑÐµÑ€Ð²ÐµÑ€** - Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚ Ð´Ð»Ñ production

---

## ðŸ“Š ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹

ÐŸÐ¾ÑÐ»Ðµ Ð¾Ð±ÑƒÑ‡ÐµÐ½Ð¸Ñ:
- **Accuracy:** 96.5-99%
- **F1-Score:** 0.93-0.96
- **Inference time:** 1-2 ÑÐµÐºÑƒÐ½Ð´Ñ‹ Ð½Ð° Ð°ÑƒÐ´Ð¸Ð¾ (3 ÑÐµÐº)
- **Ð Ð°Ð·Ð¼ÐµÑ€ Ð¼Ð¾Ð´ÐµÐ»Ð¸:** ~1.3 Ð“Ð‘

---

## ðŸŽ‰ Ð˜Ñ‚Ð¾Ð³

**Ð”Ð»Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ Mac:**

1. **ÐžÐ±ÑƒÑ‡ÐµÐ½Ð¸Ðµ:** âŒ ÐÐµ Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ (ÑÐ»Ð¸ÑˆÐºÐ¾Ð¼ Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾)
   - Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Google Colab (Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ð¾, 10-12 Ñ‡Ð°ÑÐ¾Ð²)

2. **Inference:** âœ… ÐžÑ‚Ð»Ð¸Ñ‡Ð½Ð¾ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¸Ñ‚
   - Ð‘Ñ‹ÑÑ‚Ñ€Ð¾ (~1-2 ÑÐµÐº Ð½Ð° Ð°ÑƒÐ´Ð¸Ð¾)
   - Ð›ÐµÐ³ÐºÐ¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ API

3. **Ð Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°:** âœ… Ð˜Ð´ÐµÐ°Ð»ÑŒÐ½Ð¾
   - Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð´Ð°
   - ÐžÑ‚Ð»Ð°Ð´ÐºÐ°
   - Ð­ÐºÑÐ¿ÐµÑ€Ð¸Ð¼ÐµÐ½Ñ‚Ñ‹

**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÐ¼Ñ‹Ð¹ workflow:**
1. ÐžÐ±ÑƒÑ‡Ð¸Ñ‚Ðµ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð² Google Colab (10-12 Ñ‡Ð°ÑÐ¾Ð²)
2. Ð¡ÐºÐ°Ñ‡Ð°Ð¹Ñ‚Ðµ `best.pt` Ð½Ð° Mac
3. Ð Ð°Ð·Ð²ÐµÑ€Ð½Ð¸Ñ‚Ðµ API Ð½Ð° Mac Ð´Ð»Ñ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ
4. Ð˜Ð»Ð¸ Ñ€Ð°Ð·Ð²ÐµÑ€Ð½Ð¸Ñ‚Ðµ Ð½Ð° ÑƒÐ´Ð°Ð»Ñ‘Ð½Ð½Ð¾Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð´Ð»Ñ production

---

**ÐÐ°Ñ‡Ð½Ð¸Ñ‚Ðµ Ð¿Ñ€ÑÐ¼Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ! ðŸš€**

```bash
git clone https://github.com/izoomlentoboy-creator/Voice.git
cd Voice
./train_ultimate.sh  # Ð”Ð»Ñ Mac (Ð¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾)
# Ð˜Ð›Ð˜ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Google Colab (Ð±Ñ‹ÑÑ‚Ñ€Ð¾)
```
